<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/OSDViewerUtils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/OSDViewerUtils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file OSDViewerUtils.js Interface to ask information to OSD
 * @author Leslie Solorzano
 * @see {@link OSDViewerUtils}
 */

/**
 * @namespace OSDViewerUtils
 */
OSDViewerUtils={
  _currentZoom:0,
  _currentPan:0,
}

/** 
 * Handler to ensure that at maximum zoom, the ima WILL pixelate */
OSDViewerUtils.pixelateAtMaximumZoomHandler=function(data){
  var viewer = data.eventSource;
  var drawer = viewer.drawer;
  var canvas = drawer.canvas;
  var context = canvas.getContext("2d");

  context.mozImageSmoothingEnabled = false;
  context.webkitImageSmoothingEnabled = false;
  context.msImageSmoothingEnabled = false;
  context.imageSmoothingEnabled = false;
}

/** 
 * Get viewport maximum zoom
 * @param {string} overlay Object prefix identifying the desired viewport in case there is more than one.
 * Established at {@link tmapp} but can be called directly, for example @example OSDViewerUtils.getMaxZoom("ISS");  */
OSDViewerUtils.getMaxZoom=function(overlay){
  return tmapp[overlay+"_viewer"].viewport.getMaxZoom();

}

/** 
 * Get current viewport zoom
 * @param {string} overlay Object prefix identifying the desired viewport in case there is more than one.
 * Established at {@link tmapp} but can be called directly, for example @example OSDViewerUtils.getMaxZoom("ISS");  */
OSDViewerUtils.getZoom=function(overlay){
  return tmapp[overlay+"_viewer"].viewport.getZoom();
}

/** 
 * Get image width. For now it only brings the size of the main image */
OSDViewerUtils.getImageWidth=function(){
  var op=tmapp["object_prefix"];
  return tmapp[op+"_viewer"].world.getItemAt(0).getContentSize().x;
}

/** 
 * Get image width. For now it only brings the size of the main image */
OSDViewerUtils.getImageHeight=function(){
  var op=tmapp["object_prefix"];
  return tmapp[op+"_viewer"].world.getItemAt(0).getContentSize().y;
}

/** 
 * Add a new image on top of the main viewer. It is mandatory to have the same tile size for this to work. Currently only in main viewer */
OSDViewerUtils.addTiledImage=function(options){
  if(!options){var options={}};
  var replace= options.replace || false;
  var tileSource = options.tileSource || false;
  var op=tmapp["object_prefix"];
  //get zoom
  OSDViewerUtils._currentZoom=tmapp[op+"_viewer"].viewport.getZoom();
  //get center
  OSDViewerUtils._currentPan=tmapp[op+"_viewer"].viewport.getCenter();
  options.success=function(){
      tmapp[op+"_viewer"].viewport.zoomTo(OSDViewerUtils._currentZoom,null, true);
      tmapp[op+"_viewer"].viewport.panTo(OSDViewerUtils._currentPan, true);
  };

  tmapp[op+"_viewer"].addTiledImage(options);
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="CPDataUtils.html">CPDataUtils</a></li><li><a href="dataUtils.html">dataUtils</a></li><li><a href="HTMLElementUtils.html">HTMLElementUtils</a></li><li><a href="interfaceUtils.html">interfaceUtils</a></li><li><a href="markerUtils.html">markerUtils</a></li><li><a href="OSDViewerUtils.html">OSDViewerUtils</a></li><li><a href="overlayUtils.html">overlayUtils</a></li><li><a href="regionUtils.html">regionUtils</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Apr 21 2020 21:33:33 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
